---
import ExpeditionCard from './ExpeditionCard.astro';
import type { Expedition } from '@/lib/types';

interface Props {
  expeditions: Expedition[];
  showTitle?: boolean;
  title?: string;
  subtitle?: string;
  /** Use smaller padding (section-sm) for homepage */
  compact?: boolean;
}

const { expeditions = [], showTitle = true, title, subtitle, compact = false } = Astro.props;

const sectionTitle = title || 'Himalayan Expeditions';
const sectionSubtitle = subtitle || 'Push your limits with our expertly guided mountaineering expeditions.';
---

<section class={compact ? 'section-sm' : 'section'}>
  <div class="container-custom">
    {showTitle && (
      <div class="text-center mb-8">
        <span class="inline-block px-4 py-1.5 bg-red-100 text-red-700 rounded-full text-sm font-medium mb-4">
          High Altitude Adventures
        </span>
        <h2 class="text-3xl md:text-4xl font-bold text-secondary-600 mb-4">
          {sectionTitle}
        </h2>
        <p class="text-lg text-neutral-600 max-w-2xl mx-auto">
          {sectionSubtitle}
        </p>
      </div>
    )}

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      {expeditions.map((expedition) => (
        <ExpeditionCard expedition={expedition} />
      ))}
    </div>

    {expeditions.length > 0 && (
      <div class="text-center mt-10">
        <a href="/expeditions" class="btn-secondary">
          View All Expeditions
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
      </div>
    )}
  </div>
</section>

