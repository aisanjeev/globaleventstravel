---
import { api } from '@/lib/api';

interface TrustStat {
  value: string;
  label: string;
}

let stats: TrustStat[] = [
  { value: '10,000+', label: 'Happy Trekkers' },
  { value: '4.8', label: 'Average Rating' },
  { value: '8+', label: 'Years Experience' },
  { value: 'âœ“', label: 'No Hidden Costs' },
];

try {
  const section = await api.get<{ body_html?: string | null }>('/content/home/why_choose_us');
  if (section?.body_html) {
    const parsed = JSON.parse(section.body_html) as TrustStat[];
    if (Array.isArray(parsed) && parsed.length > 0) {
      stats = parsed;
    }
  }
} catch (error) {
  // Use defaults
}
---

<section class="section bg-white">
  <div class="container-custom">
    <!-- Section Header -->
    <div class="text-center mb-12">
      <span class="inline-block text-primary-500 font-semibold text-sm uppercase tracking-wider mb-4">
        Why Choose Us
      </span>
      <h2 class="text-3xl md:text-4xl font-bold text-secondary-600 mb-4">
        Trusted by Thousands of Trekkers
      </h2>
    </div>

    <!-- Trust Stats - 4-column layout -->
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-6">
      {stats.map((stat) => (
        <div class="text-center p-6 rounded-2xl border border-neutral-100 bg-neutral-50/50 hover:border-primary-200 hover:bg-primary-50/20 transition-all duration-300">
          <div class="text-3xl md:text-4xl font-bold text-primary-600 mb-2">{stat.value}</div>
          <div class="text-neutral-600 font-medium">{stat.label}</div>
        </div>
      ))}
    </div>
  </div>
</section>
