---
import type { Testimonial } from '@/lib/types';
import { Image } from 'astro:assets';

interface Props {
  testimonial: Testimonial;
}

const { testimonial } = Astro.props;
---

<div class="bg-white p-8 rounded-2xl border border-neutral-200 shadow-sm hover:shadow-md transition-shadow duration-300">
  <!-- Quote Icon - Orange -->
  <div class="mb-6">
    <svg class="w-10 h-10 text-primary-200" fill="currentColor" viewBox="0 0 24 24">
      <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
    </svg>
  </div>

  <!-- Testimonial Text -->
  <blockquote class="text-neutral-700 text-lg leading-relaxed mb-6">
    "{testimonial.testimonial}"
  </blockquote>

  <!-- Trek Reference - Blue -->
  {testimonial.trek_name && (
    <p class="text-sm text-secondary-500 font-medium mb-4">
      Trek: {testimonial.trek_name}
    </p>
  )}

  <!-- Author Info -->
  <div class="flex items-center gap-4">
    <div class="w-12 h-12 rounded-full bg-neutral-100 overflow-hidden flex-shrink-0">
      {testimonial.image_url ? (
        <Image
          src={testimonial.image_url}
          alt={testimonial.name}
          class="w-full h-full object-cover"
          width={96}
          height={96}
          loading="lazy"
        />
      ) : (
        <div class="w-full h-full flex items-center justify-center bg-primary-100 text-primary-600 font-semibold text-lg">
          {testimonial.name.charAt(0)}
        </div>
      )}
    </div>
    <div>
      <div class="font-semibold text-secondary-600">{testimonial.name}</div>
      {testimonial.role && (
        <div class="text-sm text-neutral-500">{testimonial.role}</div>
      )}
    </div>
  </div>
</div>
