---
import MainLayout from '@/layouts/MainLayout.astro';
import HeroHome from '@/components/hero/HeroHome.astro';
import FeaturedTreks from '@/components/sections/FeaturedTreks.astro';
import WhyChooseUs from '@/components/sections/WhyChooseUs.astro';
import Statistics from '@/components/sections/Statistics.astro';
import TestimonialCard from '@/components/testimonial/TestimonialCard.astro';
import CTA from '@/components/sections/CTA.astro';
import { Image } from 'astro:assets';

import { getFeaturedTreks, MOCK_TESTIMONIALS } from '@/lib/data';

const featuredTreks = getFeaturedTreks();
const testimonials = MOCK_TESTIMONIALS;
---

<MainLayout title="Home" description="Discover amazing treks and expeditions in the Himalayas with Global Events Travels. Expert guides, safety first, unforgettable experiences.">
  
  <!-- Hero Section -->
  <HeroHome />

  <!-- Featured Treks -->
  <FeaturedTreks treks={featuredTreks} />

  <!-- Why Choose Us -->
  <WhyChooseUs />

  <!-- Statistics -->
  <Statistics />

  <!-- Testimonials Section -->
  <section class="section bg-neutral-50">
    <div class="container-custom">
      <div class="text-center mb-12">
        <span class="inline-block text-primary-500 font-semibold text-sm uppercase tracking-wider mb-4">
          Testimonials
        </span>
        <h2 class="text-3xl md:text-4xl font-bold text-neutral-900 mb-4">
          What Our Trekkers Say
        </h2>
        <p class="text-lg text-neutral-600 max-w-2xl mx-auto">
          Don't just take our word for it. Here's what adventurers who've trekked with us have to say.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {testimonials.map((testimonial) => (
          <TestimonialCard testimonial={testimonial} />
        ))}
      </div>
    </div>
  </section>

  <!-- Popular Destinations Quick Links -->
  <section class="section bg-white">
    <div class="container-custom">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-neutral-900 mb-4">
          Popular Destinations
        </h2>
        <p class="text-lg text-neutral-600 max-w-2xl mx-auto">
          Explore the most sought-after trekking regions in the Himalayas
        </p>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        {[
          { name: 'Uttarakhand', image: 'https://media3.thrillophilia.com/filestore/efftugji6q4448bt7s45z1js5tp5_1600680960_shutterstock_562139776.jpg?w=400&dpr=2', treks: 9 },
          { name: 'Himachal Pradesh', image: 'https://res.cloudinary.com/dyiffrkzh/image/upload/c_fill,f_auto,fl_progressive.strip_profile,g_center,h_400,q_auto,w_700/v1728899306/banbanjara/vtbgtzdxrbbyjjo2s1wc.webp', treks: 10 },
          { name: 'Uttarkashi', image: 'https://media1.thrillophilia.com/filestore/ylm7jv5cf5sf8nzp45db2rdh20om_shutterstock_1151786492.jpg?w=400&dpr=2', treks: 1 },
          { name: 'Srinagar', image: 'https://d26dp53kz39178.cloudfront.net/media/uploads/products/5_result_3-1683719790067.webp', treks: 1 },
        ].map((destination) => (
          <a href={`/treks?region=${destination.name.toLowerCase()}`} class="group relative aspect-square rounded-2xl overflow-hidden">
            <Image 
              src={destination.image} 
              alt={destination.name}
              class="object-cover w-full h-full group-hover:scale-110 transition-transform duration-500"
              loading="lazy"
              inferSize={true}
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>
            <div class="absolute bottom-4 left-4 right-4 text-white">
              <h3 class="text-lg text-white font-semibold">{destination.name}</h3>
              <p class="text-sm text-white/70">{destination.treks} treks</p>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <CTA />

</MainLayout>

